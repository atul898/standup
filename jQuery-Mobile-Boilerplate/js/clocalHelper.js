function callGetStandupStatus(a){$("#messageList").empty();var c='<li data-role="list-divider">Contacting Outlook server....</li>';$("#messageList").append(c);$("#messageList").listview("refresh");var b="http://10.111.124.47:8000//YaharaEmployeeStatusService/Json/GetStatus?date="+a+"&callback=?";$.getJSON(b).success(function(e){$("ul").fadeTo(0,0);console.log(e.Date);$("#messageList").empty();var f='<li data-role="list-divider" id="dateHeader">'+e.DisplayDate+'<span class="ui-li-count" id="itemCount">'+e.ListOfItems.length+"</span></li>";$("#messageList").append(f);for(var d=0;d<e.ListOfItems.length;d++){console.log(e.ListOfItems[d].Name);var f='<li><a href="#detailPage?item='+d+'" rel="external"><h3>'+e.ListOfItems[d].Name+"        </h3><p><strong>"+e.ListOfItems[d].Subject+"</strong></p><p>"+e.ListOfItems[d].MessageBody+'</p><p class="ui-li-aside"><strong>'+e.ListOfItems[d].DisplayTime+"</strong></p></a> </li>";sessionStorage.setItem("dataDate",e.Date);sessionStorage.setItem("dataDisplayDate",e.DisplayDate);sessionStorage.setItem("data"+d+"DisplayTime",e.ListOfItems[d].DisplayTime);sessionStorage.setItem("data"+d+"Subject",e.ListOfItems[d].Subject);sessionStorage.setItem("data"+d+"MessageBody",e.ListOfItems[d].MessageBody);sessionStorage.setItem("data"+d+"MessageHTMLBody",e.ListOfItems[d].MessageHTMLBody);sessionStorage.setItem("data"+d+"Name",e.ListOfItems[d].Name);$("#messageList").append(f)}$("#messageList").listview("refresh");$("ul").fadeTo(100,0.1);$("ul").fadeTo(500,1);sessionStorage.setItem("bbb","bye")}).error(function(){$("#messageList").empty();var d='<li data-role="list-divider">Err! Please try again later.</li>';$("#messageList").append(d);$("#messageList").listview("refresh")}).complete(function(){})}$(document).bind("mobileinit",function(){$.mobile.page.prototype.options.degradeInputs.date=true});$(document).ready(function(){localStandupDateVariable=new Date();var a=localStandupDateVariable.getDate();var d=localStandupDateVariable.getMonth();var b=localStandupDateVariable.getFullYear();var c=("0"+(localStandupDateVariable.getMonth()+1)).slice(-2)+""+("0"+localStandupDateVariable.getDate()).slice(-2)+""+localStandupDateVariable.getFullYear();$("#standupPage").live("pageinit",function(e){if(e.type=="pageinit"){callGetStandupStatus(c)}});$("#frondeskPage").live("pageshow",function(f){if(f.type=="pageshow"){$("textarea#textarea").val("");var e="http://10.111.124.47:8000//YaharaEmployeeStatusService/Json/ReadCurrentMessage?callback=?";$.getJSON(e).success(function(h){var g=document.getElementById("currentMessage");g.innerHTML="<p>"+h.Message+"</p>"}).error(function(){var g=document.getElementById("currentMessage");g.innerHTML="Could not retreive data"}).complete(function(){})}});$("#standupPage").live("swipeleft swiperight",function(h){if(h.type=="swiperight"){localStandupDateVariable=localStandupDateVariable.addDays(-1);var e=localStandupDateVariable.getDate();var i=localStandupDateVariable.getMonth();var f=localStandupDateVariable.getFullYear();var g=("0"+(localStandupDateVariable.getMonth()+1)).slice(-2)+""+("0"+localStandupDateVariable.getDate()).slice(-2)+""+localStandupDateVariable.getFullYear();callGetStandupStatus(g)}if(h.type=="swipeleft"){localStandupDateVariable=localStandupDateVariable.addDays(1);var e=localStandupDateVariable.getDate();var i=localStandupDateVariable.getMonth();var f=localStandupDateVariable.getFullYear();var g=("0"+(localStandupDateVariable.getMonth()+1)).slice(-2)+""+("0"+localStandupDateVariable.getDate()).slice(-2)+""+localStandupDateVariable.getFullYear();callGetStandupStatus(g)}h.preventDefault()});$("#tpPage").live("swipeleft swiperight",function(h){if(typeof localTPDateVariable==="undefined"){h.preventDefault();return}if(h.type=="swiperight"){localTPDateVariable=localTPDateVariable.addDays(-1);var e=localTPDateVariable.getDate();var i=localTPDateVariable.getMonth();var f=localTPDateVariable.getFullYear();var g=localTPDateVariable.getFullYear()+"-"+("0"+(localTPDateVariable.getMonth()+1)).slice(-2)+"-"+("0"+localTPDateVariable.getDate()).slice(-2);$("input#tpDateBox").val(g);tpDateValueSet($("input#tpDateBox")[0])}if(h.type=="swipeleft"){localTPDateVariable=localTPDateVariable.addDays(1);var e=localTPDateVariable.getDate();var i=localTPDateVariable.getMonth();var f=localTPDateVariable.getFullYear();var g=localTPDateVariable.getFullYear()+"-"+("0"+(localTPDateVariable.getMonth()+1)).slice(-2)+"-"+("0"+localTPDateVariable.getDate()).slice(-2);$("input#tpDateBox").val(g);tpDateValueSet($("input#tpDateBox")[0])}h.preventDefault()});$("#confirmSubmit").click(function(e){$("#sliderYesNo")[0].selectedIndex==0;$("#changeWelcomeMessage").fadeTo(0,0.5);$("#changeWelcomeMessage").removeAttr("href");$("#changeWelcomeMessage").attr("data-rel","");$("#sliderYesNo").selectmenu("refresh")});$("#changeWelcomeMessage").click(function(h){var e=0;if($("#sliderYesNo")[0].selectedIndex==0){e=1}if($("#sliderYesNo")[0].selectedIndex==1){e=2;var f=$("textarea").val().replace(/\n\r?/g,"<br />");var g="http://10.111.124.47:8000//YaharaEmployeeStatusService/Json/WelcomeMessage?message="+f+"&callback=?";$.getJSON(g).success(function(i){if(i==true){}else{}}).error(function(){}).complete(function(){})}});$("#detailPage").live("pageshow",function(h){var f=getParameterByName("item");var m=sessionStorage.getItem("dataDisplayDate");var g=sessionStorage.getItem("data"+f+"DisplayTime");var l=sessionStorage.getItem("data"+f+"Name");var k=sessionStorage.getItem("data"+f+"Subject");var e=sessionStorage.getItem("data"+f+"MessageHTMLBody");var j='<li data-role="list-divider" id="dateHeader">'+m+'<span class="ui-li-count" id="timeSent">'+g+"</span></li><li><h3> From : "+l+"</h3><p><strong> Subject : "+k+"</strong></p><p>"+e+"</p></li>";$("#detailPageul").empty();$("#detailPageul").append(j);$("#detailPageul").listview("refresh")})});function sliderValueChange(a){if(a.selectedIndex==0){$("#changeWelcomeMessage").removeAttr("href");$("#changeWelcomeMessage").fadeTo(500,0.5);$("#changeWelcomeMessage").attr("data-rel","")}if(a.selectedIndex==1){$("#changeWelcomeMessage").fadeTo(500,1);$("#changeWelcomeMessage").attr("href","#frondeskPage");$("#changeWelcomeMessage").attr("data-rel","back")}}function getParameterByName(b){var c=document.location.hash;var a="";if(c!=undefined&&c!=null&&c!=""){a=RegExp("[?&]"+b+"=([^&]*)").exec(c)}else{a=RegExp("[?&]"+b+"=([^&]*)").exec(document.location.search)}return a&&decodeURIComponent(a[1].replace(/\+/g," "))}function tpDateValueSet(c){var a=c.value;var b=a.substring(5,7)+a.substring(8,10)+a.substring(0,4);localTPDateVariable=new Date();localTPDateVariable.setDate(a.substring(8,10));localTPDateVariable.setMonth(a.substring(5,7)-1);localTPDateVariable.setFullYear(a.substring(0,4));callGetEmployeeTargetProcessSummary(b)}function callGetEmployeeTargetProcessSummary(a){$("#tpPageList").empty();var c='<li data-role="list-divider">Contacting TP Server....</li>';$("#tpPageList").append(c);$("#tpPageList").listview("refresh");var b="http://10.111.124.47:8000//YaharaEmployeeStatusService/Json/GetEmployeeTargetProcessSummary?date="+a+"&callback=?";$.getJSON(b).success(function(e){$("ul").fadeTo(0,0);console.log(e.Date);$("#tpPageList").empty();var f='<li data-role="list-divider" id="dateHeader">'+e.DisplayDate+'<span class="ui-li-count" id="itemCount">Hours for the week</span></li>';$("#tpPageList").append(f);for(var d=0;d<e.ListOfItems.length;d++){console.log(e.ListOfItems[d].Email);var f="<li>"+e.ListOfItems[d].Name+'<span class="ui-li-count">'+e.ListOfItems[d].TotalHoursLogged+"</span></li>";$("#tpPageList").append(f)}$("#tpPageList").listview("refresh");$("ul").fadeTo(100,0.1);$("ul").fadeTo(500,1)}).error(function(){$("#tpPageList").empty();var d='<li data-role="list-divider">Err! Please try again later.</li>';$("#tpPageList").append(d);$("#tpPageList").listview("refresh")}).complete(function(){})};