function stopAnimation(){$.mobile.hidePageLoadingMsg()}function startAnimation(a){$.mobile.loadingMessage=a;$.mobile.showPageLoadingMsg()}function callGetEmployeeWebShadowSummary(a){startAnimation("Contacting WebShadow");var b="http://10.111.124.47:8000//YaharaEmployeeStatusService/Json/GetEmployeeWebShadowSummary?date="+a+"&callback=?";$.getJSON(b).success(function(a){$("ul").fadeTo(0,0);console.log(a.Date);$("#wsPageList").empty();var b='<li data-role="list-divider" id="dateHeader">'+a.DisplayDate+'<span class="ui-li-count" id="itemCount">'+"Hours for the week"+"</span></li>";$("#wsPageList").append(b);for(var c=0;c<a.ListOfItems.length;c++){console.log(a.ListOfItems[c].Email);var b="<li>"+a.ListOfItems[c].Name+'<span class="ui-li-count">'+a.ListOfItems[c].TotalHoursLogged+"</span></li>";$("#wsPageList").append(b)}$("#wsPageList").listview("refresh");$("ul").fadeTo(100,.1);$("ul").fadeTo(500,1)}).error(function(){$("#wsPageList").empty();var a='<li data-role="list-divider">'+"Err! Please try again later."+"</li>";$("#wsPageList").append(a);$("#wsPageList").listview("refresh")}).complete(function(){stopAnimation()})}function callGetEmployeeTargetProcessSummary(a){startAnimation("Contacting Target Process");var b="http://10.111.124.47:8000//YaharaEmployeeStatusService/Json/GetEmployeeTargetProcessSummary?date="+a+"&callback=?";$.getJSON(b).success(function(a){$("ul").fadeTo(0,0);console.log(a.Date);$("#tpPageList").empty();var b='<li data-role="list-divider" id="dateHeader">'+a.DisplayDate+'<span class="ui-li-count" id="itemCount">'+"Hours for the week"+"</span></li>";$("#tpPageList").append(b);for(var c=0;c<a.ListOfItems.length;c++){console.log(a.ListOfItems[c].Email);var b="<li>"+a.ListOfItems[c].Name+'<span class="ui-li-count">'+a.ListOfItems[c].TotalHoursLogged+"</span></li>";$("#tpPageList").append(b)}$("#tpPageList").listview("refresh");$("ul").fadeTo(100,.1);$("ul").fadeTo(500,1)}).error(function(){$("#tpPageList").empty();var a='<li data-role="list-divider">'+"Err! Please try again later."+"</li>";$("#tpPageList").append(a);$("#tpPageList").listview("refresh")}).complete(function(){stopAnimation()})}function wsDateValueSet(a){var b=a.value;var c=b.substring(5,7)+b.substring(8,10)+b.substring(0,4);localWSDateVariable=new Date;localWSDateVariable.setDate(b.substring(8,10));localWSDateVariable.setMonth(b.substring(5,7)-1);localWSDateVariable.setFullYear(b.substring(0,4));callGetEmployeeWebShadowSummary(c)}function tpDateValueSet(a){var b=a.value;var c=b.substring(5,7)+b.substring(8,10)+b.substring(0,4);localTPDateVariable=new Date;localTPDateVariable.setDate(b.substring(8,10));localTPDateVariable.setMonth(b.substring(5,7)-1);localTPDateVariable.setFullYear(b.substring(0,4));callGetEmployeeTargetProcessSummary(c)}function getParameterByName(a){var b=document.location.hash;var c="";if(b!=undefined&&b!=null&&b!=""){c=RegExp("[?&]"+a+"=([^&]*)").exec(b)}else{c=RegExp("[?&]"+a+"=([^&]*)").exec(document.location.search)}return c&&decodeURIComponent(c[1].replace(/\+/g," "))}function sliderValueChange(a){if(a.selectedIndex==0){$("#changeWelcomeMessage").removeAttr("href");$("#changeWelcomeMessage").fadeTo(500,.5);$("#changeWelcomeMessage").attr("data-rel","")}if(a.selectedIndex==1){$("#changeWelcomeMessage").fadeTo(500,1);$("#changeWelcomeMessage").attr("href","#frondeskPage");$("#changeWelcomeMessage").attr("data-rel","back")}}function callGetStandupStatus(a){$("#messageList").empty();var b='<li data-role="list-divider">'+"Contacting Outlook server...."+"</li>";$("#messageList").append(b);$("#messageList").listview("refresh");var c="http://10.111.124.47:8000//YaharaEmployeeStatusService/Json/GetStatus?date="+a+"&callback=?";$.getJSON(c).success(function(a){$("ul").fadeTo(0,0);console.log(a.Date);$("#messageList").empty();var b='<li data-role="list-divider" id="dateHeader">'+a.DisplayDate+'<span class="ui-li-count" id="itemCount">'+a.ListOfItems.length+"</span></li>";$("#messageList").append(b);for(var c=0;c<a.ListOfItems.length;c++){console.log(a.ListOfItems[c].Name);var b='<li><a href="#detailPage?item='+c+'" rel="external"><h3>'+a.ListOfItems[c].Name+"        "+"</h3><p><strong>"+a.ListOfItems[c].Subject+"</strong></p><p>"+a.ListOfItems[c].MessageBody+'</p><p class="ui-li-aside"><strong>'+a.ListOfItems[c].DisplayTime+"</strong></p></a> </li>";sessionStorage.setItem("dataDate",a.Date);sessionStorage.setItem("dataDisplayDate",a.DisplayDate);sessionStorage.setItem("data"+c+"DisplayTime",a.ListOfItems[c].DisplayTime);sessionStorage.setItem("data"+c+"Subject",a.ListOfItems[c].Subject);sessionStorage.setItem("data"+c+"MessageBody",a.ListOfItems[c].MessageBody);sessionStorage.setItem("data"+c+"MessageHTMLBody",a.ListOfItems[c].MessageHTMLBody);sessionStorage.setItem("data"+c+"Name",a.ListOfItems[c].Name);$("#messageList").append(b)}$("#messageList").listview("refresh");$("ul").fadeTo(100,.1);$("ul").fadeTo(500,1);sessionStorage.setItem("bbb","bye")}).error(function(){$("#messageList").empty();var a='<li data-role="list-divider">'+"Err! Please try again later."+"</li>";$("#messageList").append(a);$("#messageList").listview("refresh")}).complete(function(){})}$(document).bind("mobileinit",function(){$.mobile.page.prototype.options.degradeInputs.date=true});$(document).ready(function(){localStandupDateVariable=new Date;var a=localStandupDateVariable.getDate();var b=localStandupDateVariable.getMonth();var c=localStandupDateVariable.getFullYear();var d=("0"+(localStandupDateVariable.getMonth()+1)).slice(-2)+""+("0"+localStandupDateVariable.getDate()).slice(-2)+""+localStandupDateVariable.getFullYear();$("#standupPage").live("pageinit",function(a){if(a.type=="pageinit"){callGetStandupStatus(d)}});$("#frondeskPage").live("pageshow",function(a){if(a.type=="pageshow"){$("textarea#textarea").val("");var b="http://10.111.124.47:8000//YaharaEmployeeStatusService/Json/ReadCurrentMessage?"+"callback=?";$.getJSON(b).success(function(a){var b=document.getElementById("currentMessage");b.innerHTML="<p>"+a.Message+"</p>"}).error(function(){var a=document.getElementById("currentMessage");a.innerHTML="Could not retreive data"}).complete(function(){})}});$("#standupPage").live("swipeleft swiperight",function(a){if(a.type=="swiperight"){localStandupDateVariable=localStandupDateVariable.addDays(-1);var b=localStandupDateVariable.getDate();var c=localStandupDateVariable.getMonth();var d=localStandupDateVariable.getFullYear();var e=("0"+(localStandupDateVariable.getMonth()+1)).slice(-2)+""+("0"+localStandupDateVariable.getDate()).slice(-2)+""+localStandupDateVariable.getFullYear();callGetStandupStatus(e)}if(a.type=="swipeleft"){localStandupDateVariable=localStandupDateVariable.addDays(1);var b=localStandupDateVariable.getDate();var c=localStandupDateVariable.getMonth();var d=localStandupDateVariable.getFullYear();var e=("0"+(localStandupDateVariable.getMonth()+1)).slice(-2)+""+("0"+localStandupDateVariable.getDate()).slice(-2)+""+localStandupDateVariable.getFullYear();callGetStandupStatus(e)}a.preventDefault()});$("#tpPage").live("swipeleft swiperight",function(a){if(typeof localTPDateVariable==="undefined"){a.preventDefault();return}if(a.type=="swiperight"){localTPDateVariable=localTPDateVariable.addDays(-1);var b=localTPDateVariable.getDate();var c=localTPDateVariable.getMonth();var d=localTPDateVariable.getFullYear();var e=localTPDateVariable.getFullYear()+"-"+("0"+(localTPDateVariable.getMonth()+1)).slice(-2)+"-"+("0"+localTPDateVariable.getDate()).slice(-2);$("input#tpDateBox").val(e);tpDateValueSet($("input#tpDateBox")[0])}if(a.type=="swipeleft"){localTPDateVariable=localTPDateVariable.addDays(1);var b=localTPDateVariable.getDate();var c=localTPDateVariable.getMonth();var d=localTPDateVariable.getFullYear();var e=localTPDateVariable.getFullYear()+"-"+("0"+(localTPDateVariable.getMonth()+1)).slice(-2)+"-"+("0"+localTPDateVariable.getDate()).slice(-2);$("input#tpDateBox").val(e);tpDateValueSet($("input#tpDateBox")[0])}a.preventDefault()});$("#wsPage").live("swipeleft swiperight",function(a){if(typeof localWSDateVariable==="undefined"){a.preventDefault();return}if(a.type=="swiperight"){localWSDateVariable=localWSDateVariable.addDays(-1);var b=localWSDateVariable.getDate();var c=localWSDateVariable.getMonth();var d=localWSDateVariable.getFullYear();var e=localWSDateVariable.getFullYear()+"-"+("0"+(localWSDateVariable.getMonth()+1)).slice(-2)+"-"+("0"+localWSDateVariable.getDate()).slice(-2);$("input#wsDateBox").val(e);wsDateValueSet($("input#wsDateBox")[0])}if(a.type=="swipeleft"){localWSDateVariable=localWSDateVariable.addDays(1);var b=localWSDateVariable.getDate();var c=localWSDateVariable.getMonth();var d=localWSDateVariable.getFullYear();var e=localWSDateVariable.getFullYear()+"-"+("0"+(localWSDateVariable.getMonth()+1)).slice(-2)+"-"+("0"+localWSDateVariable.getDate()).slice(-2);$("input#wsDateBox").val(e);wsDateValueSet($("input#wsDateBox")[0])}a.preventDefault()});$("#confirmSubmit").click(function(a){$("#sliderYesNo")[0].selectedIndex==0;$("#changeWelcomeMessage").fadeTo(0,.5);$("#changeWelcomeMessage").removeAttr("href");$("#changeWelcomeMessage").attr("data-rel","");$("#sliderYesNo").selectmenu("refresh")});$("#changeWelcomeMessage").click(function(a){var b=0;if($("#sliderYesNo")[0].selectedIndex==0){b=1}if($("#sliderYesNo")[0].selectedIndex==1){b=2;var c=$("textarea").val().replace(/\n\r?/g,"<br />");var d="http://10.111.124.47:8000//YaharaEmployeeStatusService/Json/WelcomeMessage?message="+c+"&callback=?";$.getJSON(d).success(function(a){if(a==true);else;}).error(function(){}).complete(function(){})}});$("#detailPage").live("pageshow",function(a){var b=getParameterByName("item");var c=sessionStorage.getItem("data"+"DisplayDate");var d=sessionStorage.getItem("data"+b+"DisplayTime");var e=sessionStorage.getItem("data"+b+"Name");var f=sessionStorage.getItem("data"+b+"Subject");var g=sessionStorage.getItem("data"+b+"MessageHTMLBody");var h='<li data-role="list-divider" id="dateHeader">'+c+'<span class="ui-li-count" id="timeSent">'+d+"</span></li>"+"<li>"+"<h3> From : "+e+"</h3>"+"<p><strong> Subject : "+f+"</strong></p>"+"<p>"+g+"</p>"+"</li>";$("#detailPageul").empty();$("#detailPageul").append(h);$("#detailPageul").listview("refresh")})})